# Font
# ====

font -*-terminus-medium-r-normal-*-12-*-*-*-*-*-*-*

# Key bindigns
# ============

# Moving keys
set $up k
set $down j
set $left h
set $right l

# Use modkey to drag floating window
floating_modifier Mod1

# Start a terminal
bindsym Mod1+Return exec urxvtc
#bindsym Mod1+Return exec i3-sensible-terminal

# Kill focused window
bindsym Mod1+q kill

# Start dmenu
bindsym Mod1+d exec "dmenu_run -i -fn Terminus"

# Change focus
bindsym Mod1+$left focus left
bindsym Mod1+$down focus down
bindsym Mod1+$up focus up
bindsym Mod1+$right focus right

# Move focused window
bindsym Mod1+Control+$left move left
bindsym Mod1+Control+$down move down
bindsym Mod1+Control+$up move up
bindsym Mod1+Control+$right move right

# Split in horizontal orientation
bindsym Mod1+space split h

# Split in vertical orientation
bindsym Mod1+v split v

# Full screen mode
bindsym Mod1+m fullscreen toggle

# Toggle tiling / floating
bindsym Mod1+Control+space floating toggle

# Switch to workspace
bindsym Mod1+1 workspace 1
bindsym Mod1+2 workspace 2
bindsym Mod1+3 workspace 3
bindsym Mod1+4 workspace 4
bindsym Mod1+5 workspace 5
bindsym Mod1+6 workspace 6
bindsym Mod1+7 workspace 7
bindsym Mod1+8 workspace 8
bindsym Mod1+9 workspace 9
bindsym Mod1+0 workspace 10
bindsym Mod1+comma workspace prev
bindsym Mod1+period workspace next
bindsym Mod1+n workspace back_and_forth
bindsym Mod1+Control+n move container to workspace back_and_forth; workspace back_and_forth

# Move focused container to workspace and switch workspace
bindsym Mod1+Control+1 move workspace 1; workspace 1
bindsym Mod1+Control+2 move workspace 2; workspace 2
bindsym Mod1+Control+3 move workspace 3; workspace 3
bindsym Mod1+Control+4 move workspace 4; workspace 4
bindsym Mod1+Control+5 move workspace 5; workspace 5
bindsym Mod1+Control+6 move workspace 6; workspace 6
bindsym Mod1+Control+7 move workspace 7; workspace 7
bindsym Mod1+Control+8 move workspace 8; workspace 8
bindsym Mod1+Control+9 move workspace 9; workspace 9
bindsym Mod1+Control+0 move workspace 10; workspace 10

# Create a grid
bindsym Mod1+Control+g exec i3_grid

# Mark window
bindsym Mod1+a exec i3-input -F 'mark %s' -P 'Mark name: '
# Go to marked window
bindsym Mod1+g exec i3-input -F '[con_mark=%s] focus' -P 'Go to mark: '

# Scratchpad
bindsym Mod1+Shift+minus move scratchpad
bindsym Mod1+minus scratchpad show

# Reload the configuration file
bindsym Mod1+Control+c reload

# Restart i3 inplace
bindsym Mod1+Control+r restart

# Exit i3
bindsym Mod1+Control+q exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# Resize window
mode "resize" {
        bindsym $left       resize grow width 10 px or 10 ppt
        bindsym $right      resize shrink width 10 px or 10 ppt
        bindsym $down       resize shrink height 10 px or 10 ppt
        bindsym $up         resize grow height 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym Mod1+r mode "resize"

# Switch keyboard
bindsym Mod1+Control+e exec ~/scripts/skbd

# Switch wifi
bindsym Mod1+Control+w exec ~/scripts/swifi

# dms
bindsym Mod1+slash exec ~/scripts/dms

# dmw
bindsym Mod1+w exec ~/scripts/dmw

# dmb
bindsym Mod1+semicolon exec ~/scripts/dmb

# Change backlight
bindsym XF86Back exec "xbacklight -time 0 -dec 10%"
bindsym XF86Forward exec "xbacklight -time 0 -inc 15%"

# Turn off display
bindsym Pause exec "xset dpms force off"

# Mute/unmute
bindsym XF86AudioMute exec "amixer sset Master toggle"

# Printscreen
bindsym Print exec "scrot"

# Spotify control / spotymenu
# ===========================

bindsym Mod1+o exec ~/scripts/spotymenu
bindsym Mod1+p exec "dbus-send --type=method_call --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.PlayPause"
bindsym Mod1+Control+Left exec "dbus-send --type=method_call --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Previous"
bindsym Mod1+Control+Right exec "dbus-send --type=method_call --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Next"


# Window options
# ==============

for_window [title = "^cal$" ] floating enable
assign [class = "Firefox" ] 1
# Jump to firefox
bindsym Mod1+b [class = "Firefox"] focus
for_window [class = "Spotify" ] move container to workspace 5
# Jump to spotify
bindsym Mod1+i [class = "Spotify"] focus

# I3 status bar
# =============

bar {
        colors{
            urgent_workspace   #2f343a #FF0000 #ffffff
            separator #285577
            background #222222


}
        position top
        #separator_symbol " | "
        status_command i3blocks

}
